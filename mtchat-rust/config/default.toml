# Default configuration for MultitenancyChat API

[app]
name = "multitenancy-chat-api"
environment = "development"

[server]
host = "0.0.0.0"
port = 8080
request_timeout_secs = 30
shutdown_timeout_secs = 30

[database]
url = "postgres://postgres:postgres@localhost:5432/multitenancy_chat"
pool_min = 5
pool_max = 20
acquire_timeout_secs = 30
idle_timeout_secs = 600
max_lifetime_secs = 1800

[redis]
url = "redis://localhost:6379"
pool_size = 10
connection_timeout_secs = 5

[jwt]
secret = "development-secret-change-in-production-at-least-32-chars"
expiration_hours = 24
refresh_expiration_days = 30
issuer = "multitenancy-chat-api"

[storage]
region = "us-east-1"
bucket = "mtchat-uploads"
access_key_id = ""
secret_access_key = ""
presign_expiration_secs = 3600
max_file_size_bytes = 104857600
allowed_mime_types = [
    "image/jpeg",
    "image/png",
    "image/gif",
    "image/webp",
    "application/pdf",
    "application/msword",
    "application/vnd.openxmlformats-officedocument.wordprocessingml.document",
    "application/vnd.ms-excel",
    "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"
]

[websocket]
heartbeat_interval_secs = 30
client_timeout_secs = 60
max_connections_per_user = 5
max_message_size_bytes = 65536
broadcast_buffer_size = 1000

[telemetry]
log_level = "debug"
log_format = "pretty"
metrics_enabled = true
sentry_traces_sample_rate = 0.1

[rate_limit]
requests_per_minute = 100
burst = 20
websocket_messages_per_second = 10
